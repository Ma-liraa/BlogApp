import React from "react";
import { usePathname } from "next/navigation";
import Link from "next/link";
import SearchSideBar from "./SearchSideBar";

function SideBar({ setSideBarOpen, sideBarOpen }) {
  const pathname = usePathname();

  return (
    <div className="sticky top-4 h-full pl-4 pt-3">
      <div
        className={`flex h-full flex-col justify-between gap-y-4 ${sideBarOpen ? "items-start" : "items-center"}`}
      >
        <div className="flex flex-col gap-y-10">
          <Link href="/">
            <div
              className={`mb-4 flex items-center gap-x-2 ${sideBarOpen ? "justify-start" : "justify-center"}`}
            >
              <span>
                <svg
                  width="60"
                  height="60"
                  viewBox="0 0 60 60"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    fillRule="evenodd"
                    clipRule="evenodd"
                    d="M17.1617 51.457C13.6217 49.3435 10.5561 46.3235 8.34828 42.4992C6.14218 38.6782 5.05943 34.5167 4.99756 30.3975L5.35896 30.4687C12.7316 31.9207 21.119 29.2955 28.0133 25.0627C28.9198 24.506 29.8088 23.9165 30.6738 23.2986C31.7068 24.5885 32.6318 25.8967 33.377 27.1875C34.3113 28.8057 35.1565 30.7307 35.9118 32.7872C34.6183 33.4132 33.3573 34.1025 32.1423 34.842C25.1625 39.089 19.2081 45.2837 17.1628 51.4537L17.1617 51.457ZM40.649 52.6187C34.1368 55.694 26.8533 55.7132 20.5522 53.147L20.7224 52.6337C22.3812 47.6292 27.521 42.0435 34.0915 38.0455C35.0785 37.4447 36.0868 36.8867 37.1083 36.3767C37.7388 38.4512 38.285 40.5557 38.746 42.532C39.3443 45.0957 39.7883 47.3937 40.0825 49.0502C40.2295 49.878 40.339 50.544 40.4113 51.001C40.4475 51.2297 40.4745 51.406 40.4923 51.524L40.5118 51.6565L40.5165 51.6887L40.5178 51.6977L40.649 52.6187Z"
                    fill="#1E2A44"
                  />
                  <path
                    d="M40.5647 34.8563C45.2835 33.0591 50.0935 32.3683 54.2567 33.2818L54.7685 33.3941C54.464 35.6046 53.8657 37.7678 52.9902 39.8216C51.1792 44.0696 48.1825 47.8491 44.1462 50.6128L44.1152 50.4151C44.0394 49.9371 43.9262 49.2476 43.7747 48.3946C43.4717 46.6893 43.0149 44.3238 42.3979 41.6801C41.9004 39.5481 41.2917 37.2008 40.5647 34.8563Z"
                    fill="#1E2A44"
                  />
                  <path
                    d="M33.6313 20.9937C37.9531 17.3206 41.3491 12.9664 42.8118 8.62055L42.8378 8.54272C46.3771 10.6561 49.4421 13.6759 51.6496 17.4994C53.8566 21.3219 54.9393 25.4851 55.0003 29.6058C50.0113 28.5273 44.5348 29.3531 39.3608 31.3033C38.5588 29.1443 37.6486 27.0863 36.6246 25.3126C35.7841 23.8569 34.7588 22.4049 33.6313 20.9937Z"
                    fill="#1E2A44"
                  />
                  <path
                    d="M20.7965 8.63512C20.1664 8.13682 19.6533 7.74362 19.2959 7.47362L19.24 7.43145C23.6461 5.32502 28.4108 4.62232 32.9885 5.1772C35.2068 5.4461 37.3813 6.0103 39.4498 6.85322L39.2575 7.42432C38.0645 10.9692 35.1323 14.8009 31.1865 18.1511C29.3608 16.1634 27.4348 14.322 25.6803 12.7483C23.7873 11.0504 22.0557 9.63095 20.7965 8.63512Z"
                    fill="#1E2A44"
                  />
                  <path
                    d="M26.051 21.867C19.5845 25.8373 12.1751 27.989 6.08353 26.7893L5.22705 26.6208C6.15025 19.8872 9.79853 13.5937 15.7035 9.48804L16.5233 10.0841L16.5284 10.0878L16.5518 10.1049L16.6494 10.1768C16.7365 10.2413 16.8668 10.3384 17.0355 10.4659C17.3731 10.7209 17.8641 11.0971 18.4703 11.5765C19.6837 12.5361 21.3537 13.9052 23.1763 15.54C24.8258 17.0195 26.5705 18.6904 28.2062 20.4515C27.5082 20.9412 26.7887 21.414 26.051 21.867Z"
                    fill="#1E2A44"
                  />
                </svg>
              </span>
              {sideBarOpen && (
                <span className="text-[25px] font-[1000] text-[#1E2A44]">
                  <span className="text-[#3B66FF]">وبلاگ</span>ینو
                </span>
              )}
            </div>
          </Link>
          {/* search box */}
          <SearchSideBar
            sideBarOpen={sideBarOpen}
            setSideBarOpen={setSideBarOpen}
          />
          {/* list items */}
          <ul className="flex flex-col gap-y-3">
            <Link href="/">
              <li className="relative flex items-center gap-x-2 px-4 py-2 text-sm font-[1000] text-[#1E2A44]">
                <span>
                  <svg
                    width="32"
                    height="32"
                    viewBox="0 0 32 32"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M27.8133 11.16L18.5733 3.7733C17.1466 2.62663 14.8399 2.62663 13.4266 3.75996L4.18661 11.16C3.14661 11.9866 2.47995 13.7333 2.70661 15.04L4.47995 25.6533C4.79995 27.5466 6.61328 29.08 8.53328 29.08H23.4666C25.3733 29.08 27.1999 27.5333 27.5199 25.6533L29.2933 15.04C29.5066 13.7333 28.8399 11.9866 27.8133 11.16ZM15.9999 20.6666C14.1599 20.6666 12.6666 19.1733 12.6666 17.3333C12.6666 15.4933 14.1599 14 15.9999 14C17.8399 14 19.3333 15.4933 19.3333 17.3333C19.3333 19.1733 17.8399 20.6666 15.9999 20.6666Z"
                      fill="#1E2A44"
                    />
                  </svg>
                </span>
                {sideBarOpen && (
                  <span className="flex items-center justify-center pt-1">
                    خانه
                  </span>
                )}
                {pathname === "/" && (
                  <div className="absolute right-0 h-[30px] w-1.5 rounded-full bg-[#3B66FF]"></div>
                )}
              </li>
            </Link>
            <Link href="/blogs">
              <li className="relative flex items-center gap-x-2 px-4 py-2 text-sm font-[1000] text-[#1E2A44]">
                <span>
                  <svg
                    width="32"
                    height="32"
                    viewBox="0 0 32 32"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      fillRule="evenodd"
                      clipRule="evenodd"
                      d="M2.66675 8.84537C2.66675 5.43288 5.43312 2.6665 8.84561 2.6665C12.2581 2.6665 15.0245 5.43288 15.0245 8.84537C15.0245 12.2579 12.2581 15.0242 8.84561 15.0242C5.43312 15.0242 2.66675 12.2579 2.66675 8.84537Z"
                      fill="#1E2A44"
                    />
                    <path
                      fillRule="evenodd"
                      clipRule="evenodd"
                      d="M16.9756 23.1545C16.9756 19.742 19.742 16.9756 23.1545 16.9756C26.5669 16.9756 29.3333 19.742 29.3333 23.1545C29.3333 26.5669 26.5669 29.3333 23.1545 29.3333C19.742 29.3333 16.9756 26.5669 16.9756 23.1545Z"
                      fill="#1E2A44"
                    />
                    <path
                      d="M2.66675 23.3335C2.66675 20.5051 2.66675 19.0908 3.54543 18.2122C4.42411 17.3335 5.83832 17.3335 8.66675 17.3335C11.4952 17.3335 12.9094 17.3335 13.7881 18.2122C14.6667 19.0908 14.6667 20.5051 14.6667 23.3335C14.6667 26.1619 14.6667 27.5762 13.7881 28.4548C12.9094 29.3335 11.4952 29.3335 8.66675 29.3335C5.83832 29.3335 4.42411 29.3335 3.54543 28.4548C2.66675 27.5762 2.66675 26.1619 2.66675 23.3335Z"
                      fill="#1E2A44"
                    />
                    <path
                      d="M17.3333 8.6665C17.3333 5.83808 17.3333 4.42386 18.2119 3.54518C19.0906 2.6665 20.5049 2.6665 23.3333 2.6665C26.1617 2.6665 27.5759 2.6665 28.4546 3.54518C29.3333 4.42386 29.3333 5.83808 29.3333 8.6665C29.3333 11.4949 29.3333 12.9091 28.4546 13.7878C27.5759 14.6665 26.1617 14.6665 23.3333 14.6665C20.5049 14.6665 19.0906 14.6665 18.2119 13.7878C17.3333 12.9091 17.3333 11.4949 17.3333 8.6665Z"
                      fill="#1E2A44"
                    />
                  </svg>
                </span>
                {sideBarOpen && (
                  <span className="flex items-center justify-center pt-1">
                    وبلاگ‌ها
                  </span>
                )}
                {pathname === "/blogs" && (
                  <div className="absolute right-0 h-[30px] w-1.5 rounded-full bg-[#3B66FF]"></div>
                )}
              </li>
            </Link>
            <Link href="/new-blogs">
              <li className="relative flex items-center gap-x-2 px-4 py-2 text-sm font-[1000] text-[#1E2A44]">
                <span>
                  <svg
                    width="32"
                    height="32"
                    viewBox="0 0 32 32"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M15.9999 28C21.891 28 26.6666 23.5252 26.6666 18.0053C26.6666 13.0168 23.9538 9.11748 22.0826 7.25915C21.7355 6.91446 21.1577 7.06675 20.9615 7.51051C19.9655 9.76387 17.8903 13.0081 15.2381 13.0081C13.5966 13.2278 11.0891 11.8246 13.113 4.86491C13.2953 4.23824 12.6262 3.73484 12.1152 4.15386C9.20605 6.53915 5.33325 11.3486 5.33325 18.0053C5.33325 23.5252 10.1089 28 15.9999 28Z"
                      fill="#1E2A44"
                    />
                  </svg>
                </span>
                {sideBarOpen && (
                  <span className="flex items-center justify-center pt-1">
                    جدیدترین‌ها
                  </span>
                )}
                {pathname === "/new-blogs" && (
                  <div className="absolute right-0 h-[30px] w-1.5 rounded-full bg-[#3B66FF]"></div>
                )}
              </li>
            </Link>
          </ul>
        </div>
        <button
          onClick={() => setSideBarOpen(!sideBarOpen)}
          className={`flex items-center justify-end transition-all ${sideBarOpen ? "rotate-180 hover:rotate-0" : "rotate-0 hover:rotate-180"}`}
        >
          <svg
            width="42"
            height="42"
            viewBox="0 0 42 42"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              fillRule="evenodd"
              clipRule="evenodd"
              d="M35.9372 6.06282C33.3744 3.5 29.2496 3.5 21 3.5C12.7504 3.5 8.62563 3.5 6.06282 6.06282C3.5 8.62563 3.5 12.7504 3.5 21C3.5 29.2496 3.5 33.3744 6.06282 35.9372C8.62563 38.5 12.7504 38.5 21 38.5C29.2496 38.5 33.3744 38.5 35.9372 35.9372C38.5 33.3744 38.5 29.2496 38.5 21C38.5 12.7504 38.5 8.62563 35.9372 6.06282ZM24.5531 14.8219C25.0656 15.3345 25.0656 16.1655 24.5531 16.6781L20.2312 21L24.5531 25.3219C25.0656 25.8345 25.0656 26.6655 24.5531 27.1781C24.0405 27.6906 23.2095 27.6906 22.6969 27.1781L17.4469 21.9281C17.2008 21.6819 17.0625 21.3481 17.0625 21C17.0625 20.6519 17.2008 20.3181 17.4469 20.0719L22.6969 14.8219C23.2095 14.3094 24.0405 14.3094 24.5531 14.8219Z"
              fill="#1E2A44"
            />
          </svg>
        </button>
      </div>
    </div>
  );
}

export default SideBar;
